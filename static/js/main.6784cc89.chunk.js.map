{"version":3,"sources":["App.js","index.js"],"names":["onMouseUpGlobal","widthBase","emptyList","repeat","split","App","useState","towers","setTowers","hanging","setHanging","onMouseUp","towerNum","newTowers","produce","val","pop","select","dest","tower","length","push","move","className","style","position","bottom","width","Hanging","Towers","fontSize","onClick","showFullSolution","paddingBottom","Rectangle","n","display","justifyContent","map","i","arr","idx","key","pollWidth","minWidth","max","height","left","backgroundColor","zIndex","borderRadius","reverse","slice","padding","color","Tower","join","background","randColor","maxWidth","margin","availableColors","Math","floor","toString","padStart","a","moveTower","from","to","step","other","action","Promise","resolve","setTimeout","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.6784cc89.chunk.js","sourcesContent":["import produce from \"immer\";\nimport { useState } from \"react\";\nimport \"./styles.css\";\n\nconst max = 7;\nconst height = 20;\nconst widthBase = 30;\nconst emptyList = \" \".repeat(max).split(\"\");\n\nlet onMouseUpGlobal;\n\nexport default function App() {\n  // const [towers, setTowers] = useState([[0, 1, 2], [3, 4, 5], [6]]);\n  const [towers, setTowers] = useState([[0, 1, 2, 3, 4, 5, 6], [], []]);\n  const [hanging, setHanging] = useState(-1);\n\n  const onMouseUp = (onMouseUpGlobal = (towerNum) => {\n    if (hanging === -1) {\n      select(towerNum);\n    } else {\n      move(towerNum);\n    }\n  });\n  function select(towerNum) {\n    const newTowers = produce(towers, (towers) => {\n      const val = towers[towerNum].pop();\n      setHanging(val);\n    });\n    setTowers(newTowers);\n  }\n  function move(dest) {\n    const tower = towers[dest];\n    if (!tower.length || tower[tower.length - 1] < hanging) {\n      const newTowers = produce(towers, (towers) => {\n        towers[dest].push(hanging);\n        setHanging(-1);\n      });\n      setTowers(newTowers);\n    }\n  }\n\n  return (\n    <div className=\"App\">\n      <div\n        style={{\n          position: \"fixed\",\n          bottom: 0,\n          width: \"100%\"\n        }}\n      >\n        <Hanging hanging={hanging} />\n        {Towers(towers, onMouseUp)}\n      </div>\n      <button style={{ fontSize: 20 }} onClick={showFullSolution}>\n        Show Full Solution\n      </button>\n    </div>\n  );\n}\n\nfunction Hanging({ hanging }) {\n  if (hanging === -1) {\n    return null;\n  }\n\n  return (\n    <div style={{ paddingBottom: 60 }}>\n      <Rectangle n={hanging} />\n    </div>\n  );\n}\n\nfunction Towers(towers, onMouseUp) {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        justifyContent: \"center\"\n      }}\n    >\n      {towers.map((tower, i) =>\n        Tower({\n          arr: tower,\n          idx: i,\n          key: tower.join(\",\") + i,\n          onMouseUp: onMouseUp\n        })\n      )}\n    </div>\n  );\n}\n\nfunction Tower({ arr, idx, onMouseUp, key }) {\n  const pollWidth = widthBase / 4;\n  return (\n    <div style={{ position: \"relative\", minWidth: max * widthBase }} key={key}>\n      <div\n        style={{\n          position: \"absolute\",\n          width: pollWidth,\n          height: height * max,\n          left: `calc(50% - ${pollWidth / 2}px)`,\n          backgroundColor: \"red\",\n          zIndex: -1,\n          borderRadius: 10\n        }}\n      ></div>\n      {[...arr, ...emptyList]\n        .reverse()\n        .slice(-max)\n        .map((n, i) => (\n          <Rectangle n={n} key={i} onMouseUp={() => onMouseUp(idx)}></Rectangle>\n        ))}\n      <div style={{ padding: 10, fontSize: 30, color: \"blue\" }}>{idx + 1}</div>\n    </div>\n  );\n}\n\nfunction Rectangle({ n, onMouseUp = () => {} }) {\n  return (\n    <div\n      style={{\n        background: n === \" \" ? \"none\" : randColor(n),\n        minWidth: (max - n) * widthBase,\n        maxWidth: (max - n) * widthBase,\n        margin: \"auto\",\n        height,\n        borderRadius: 10\n      }}\n      onMouseUp={onMouseUp}\n    ></div>\n  );\n}\n\nconst availableColors = 2 ** 24;\n\nfunction randColor(n) {\n  const color = Math.floor(availableColors * (n / max))\n    .toString(16)\n    .padStart(6, \"0\");\n  return `#${color}`;\n}\n\nasync function showFullSolution() {\n  await moveTower(1, 3, 7);\n}\n\nasync function moveTower(from, to, n) {\n  if (n === 1) {\n    await step(from, to);\n  } else {\n    const other = 6 - from - to;\n    await moveTower(from, other, n - 1);\n    await step(from, to);\n    await moveTower(other, to, n - 1);\n  }\n}\n\nasync function step(from, to) {\n  await action(from);\n  await action(to);\n}\n\nfunction action(n) {\n  return new Promise((resolve) =>\n    setTimeout(() => {\n      onMouseUpGlobal(n - 1);\n      resolve();\n    }, 200)\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}